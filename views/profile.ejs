<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
    <h1 class="text-4xl bold mb-5 ms-5 mt-5 ">Create Profile</h1>
    <form action="/api/profile/" method="post">
        <div>
            <label for="firstName" class=" text-md font-large text-blue-900 ms-5">FirstName:</label>
            <input type="text" id="firstName" name="firstName" class="mt-2 p-3 w-500 border rounded-md ms-4 ">
        </div>

        <div>
            <label for="lastName" class=" text-md font-large text-blue-900 ms-5">lastName:</label>
            <input type="text" id="lastName" name="lastName" class="mt-2 p-3 w-500 border rounded-md ms-5 ">
        </div>

        <div>
            <label for="email" class=" text-md font-large text-blue-900 ms-5">Email:</label>
            <input type="text" id="email" name="email" class="mt-2 p-3 w-500 border rounded-md  ms-12">
        </div>

        <button type="submit" class="bg-blue-500 text-white px-5 py-3 rounded-md mt-5 ms-5 mb-20">Add Profile</button>
    </form>
    


    <table>
        <thead class="bg-blue-100">
            <tr>
                <th class="px-6 py-3 text-left text-md">Id</th>
                <th class="px-6 py-3 text-left text-md">FirstName</th>
                <th class="px-6 py-3 text-left text-md">LastName</th>
                <th class="px-6 py-3 text-left text-md">Email</th>
                <th class="px-6 py-3 text-left text-md">Actions</th>
            </tr>
        </thead>


        <% for(let i=0 ;i < profile.length; i++) {%>
            <tr class="border-t border-gray-200 bg-pink-50 hover:bg-pink-200">
                <td class="px-8 py-6 text-sm ">
                    <%= i + 1 %>
                </td>
                <td class="px-8 py-6 text-sm">
                    <%= profile[i].firstName %>
                </td>
                <td class="px-8 py-6 text-sm">
                    <%= profile[i].lastName %>
                </td>
                <td class="px-8 py-6 text-sm">
                    <%= profile[i].email %>
                </td>
                <td>
                    <!-- Edit Button -->
                    <form action="/api/profile/<%= profile[i]._id %>/edit" method="get" style="display:inline;">
                        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-md font-medium">Edit</button
                    </form>
                     <!-- Delete Button -->
                     <form action="/api/profile/<%= profile[i]._id %>" method="post" style="display:inline;">
                        <input type="hidden" name="_method" value="DELETE">
                        <button type="submit" class="bg-red-600 text-white px-4 py-2 ms-2 me-5 rounded-md font-medium onclick="return confirm('Are you sure you want to delete this profile?');">Delete</button>
                    </form>
                </td>
            </tr>
            <% } %>
    </table>
</body>
</html>